<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- GenHTML@16097-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<title>Your First Cup: An Introduction to the Java EE Platform</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<!--stopindex-->
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<A href="toc.html">Your First Cup: An Introduction to the Java EE Platform</A> <font color="red">&gt;&gt;</font> <nobr><A HREF="p5.html#gcrkp">3.&nbsp;&nbsp;Creating Your First Java EE Application</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p5.html#gcrkm">Coding the Example Application</A></nobr> <font color="red">&gt;&gt;</font> <nobr><A HREF="p8.html#gcrlt">Creating the Web Client</A></nobr>&nbsp;
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="grey1"><td></td><td align="right"><A HREF="p10.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p12.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<!--startindex-->
<div class="maincontent">
<A NAME="gcslo"></A><p><IMG border="0" alt="Procedure" src="graphics/procedure.gif">Saving <tt>DukesBDay</tt></p>
<ul><li><p><b>Select File -> Save.</b></p></li>
</ul><A NAME="gcrrd"></A><h4>Configuring the <tt>DukesBDay</tt> Bean
in the Configuration File</h4>
<p>JavaServer Faces technology allows you to use the configuration file
to initialize, configure, and store managed beans in one of the following
scopes: </p>
<ul><li><p>request, which begins when the user submits a page and ends
when the response is rendered.</p>
</li>
<li><p>session, which begins when a user first accesses a page and
ends when the user's session ends, such as when the user's session times out.</p>
</li>
<li><p>application, which lasts until the server stops the application.</p>
</li>
</ul>
<p>Once a bean is configured, a JavaServer Faces page can create and access
the bean. In this section, we'll configure the <tt>DukesBDay</tt> managed
bean.</p>
<A NAME="gcrrk"></A><p><IMG border="0" alt="Procedure" src="graphics/procedure.gif">Configuring the <tt>DukesBDay</tt> Managed
Bean</p>
<ol><li><p><b>Expand the <tt>firstcup-war</tt> module in the Projects
pane.</b></p></li>
<li><p><b>Open the folders Web Pages -> WEB-INF.</b></p></li>
<li><p><b>Double-click <tt>faces-config.xml</tt>.</b></p></li>
<li><p><b>Right-click in the editor window and select JavaServer Faces ->
Add Managed Bean.</b></p></li>
<li><p><b>In the Add Managed Bean dialog, enter <tt>dukesBDay</tt> in
the Bean Name field.</b></p></li>
<li><p><b>Enter <tt>com.sun.firstcup.web.DukesBDay</tt> in the
Bean Class field.</b></p></li>
<li><p><b>Select <tt>session</tt> from the scope menu.</b></p></li>
<li><p><b>Enter <tt>DukesBDay backing bean</tt> in the Bean Description
field.</b></p></li>
<li><p><b>Click Add.</b></p><p>You should now see the following in the <tt>faces-config.xml</tt> file:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>&lt;managed-bean>
  &lt;description>DukesBDay backing bean&lt;/description>
  &lt;managed-bean-name>dukesBDay&lt;/managed-bean-name>
  &lt;managed-bean-class>com.sun.firstcup.web.DukesBDay&lt;/managed-bean-class>
  &lt;managed-bean-scope>session&lt;/managed-bean-scope>
&lt;/managed-bean></pre>
</td></table><br><p>The <tt>managed-bean-name</tt> element is the name by which
the JavaServer Faces pages will refer to the bean. The <tt>managed-bean-class</tt> element is the fully-qualified class name of the bean. The <tt>managed-bean-scope</tt> element is the scope in which the bean is saved. We specify session
scope because we need an instance of the bean to be available for the entire
session so that all pages can access the values held by the bean.</p>
</li>
<li><p><b>Select File -> Save to save the file.</b></p></li>
</ol><A NAME="gcrrw"></A><h4>Creating the <tt>greeting.jsp</tt> Page</h4>
<p>The <tt>greeting.jsp</tt> page includes the welcome message,
displays Duke's current age, and accepts the user's birth date. To create
the page, you need to perform the following tasks:</p>
<ul><li><p>Create an empty JSP page.</p>
</li>
<li><p>Declare the JavaServer Faces tag libraries.</p>
</li>
<li><p>Add an <tt>f:view</tt> and an <tt>h:form</tt> tag.</p>
</li>
<li><p>Add the output label components to display localized messages
and text.</p>
</li>
<li><p>Add an input component to accept the birth date.</p>
</li>
<li><p>Register a converter on the input component to convert the
date to the proper type.</p>
</li>
<li><p>Add a custom error message to display if conversion fails.</p>
</li>
<li><p>Add a button component so that the user can submit the page.</p>
</li>
</ul>
<A NAME="gcruv"></A><h5>Creating an Empty JSP Page</h5>
<p>To create an empty JSP page, do the following:</p>
<ol Type="1"><li><p>Right--click on the <tt>firstcup-war</tt> module
in the Projects pane.</p>
</li>
<li><p>Select New -> JSP from the popup menu.</p>
</li>
<li><p>Enter <tt>greeting</tt> in the JSP File Name field.</p>
</li>
<li><p>Click Finish.</p>
</li>
<li><p>In the <tt>greeting.jsp</tt> file, after the <tt>html</tt> tag, replace any <tt>head</tt> tag that is already in
the page and add the following one, which defines the content type:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>&lt;head>
   &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   &lt;title>Firstcup Greeting Page&lt;/title>
&lt;/head></pre>
</td></table><br></li>
<li><p>Remove the beginning and ending <tt>body</tt> tags.</p>
</li>
<li><p>Remove <tt>&lt;h1>JSP Page&lt;/h1></tt> from the
file.</p>
</li>
<li><p>Select File -> Save to save the file.</p>
</li>
</ol>

</div>
<!--stopindex-->

<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr class="suntab"><td></td><td align="right"><A HREF="p10.html"><IMG BORDER="0" ALT="Previous" SRC="graphics/prev.gif"> Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="p12.html">Next <IMG BORDER="0" ALT="Next" SRC="graphics/next.gif"></A></td></tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

